(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5168f52e"],{"0df0":function(e,t,n){},1340:function(e,t,n){},"2e3c":function(e,t,n){"use strict";n("3956")},"34da":function(e,t,n){"use strict";n("f66b")},3562:function(e,t,n){"use strict";n("7e06")},3956:function(e,t,n){},"4aee":function(e,t,n){"use strict";n("0df0")},"53bd":function(e,t,n){"use strict";n("f217")},"5a94":function(e,t,n){},6181:function(e,t,n){},6309:function(e,t,n){},"6e1e":function(e,t,n){"use strict";n("78a4")},"78a4":function(e,t,n){},"7e06":function(e,t,n){},9592:function(e,t,n){"use strict";n("1340")},"989b":function(e,t,n){},a3a9:function(e,t,n){},aba0:function(e,t,n){"use strict";n("5a94")},be90:function(e,t,n){"use strict";n("989b")},c1c2:function(e,t,n){},d902:function(e,t,n){"use strict";n("c1c2")},e259:function(e,t,n){"use strict";n("a3a9")},e4391:function(e,t,n){"use strict";n("6309")},f217:function(e,t,n){},f24c:function(e,t,n){"use strict";n("6181")},f66b:function(e,t,n){},f888:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"on-resize",rawName:"v-on-resize",value:e.onResize,expression:"onResize"}],staticClass:"screen-edit-page dark dark-scroll-bar"},[n("div",{staticClass:"layout",on:{mousedown:e.hideContextMenu}},[n("DataPanel",{attrs:{rightTabName:e.activeRightTab}}),n("ToolBar"),n("main",[n("section",{staticClass:"left"},[n("AddedComponentsList")],1),n("div",{ref:"centerRef",staticClass:"center center-container",style:{cursor:e.holdSpace?"grabbing":"default"},on:{mousedown:e.onDragMoveCanvas,contextmenu:e.handleContextMenu}},[n("div",{staticClass:"center-wrap"},[n("Editor",{directives:[{name:"show",rawName:"v-show",value:this.isPageLoading,expression:"this.isPageLoading"}],style:{transform:"scale("+e.canvasScale+")"}}),e._m(0)],1)]),n("section",{staticClass:"right"},[n("AlignMenu"),n("Tabs",{directives:[{name:"show",rawName:"v-show",value:e.activeComponent.component,expression:"activeComponent.component"}],model:{value:e.activeRightTab,callback:function(t){e.activeRightTab=t},expression:"activeRightTab"}},[n("TabPane",{staticClass:"hide-scroll-bar",attrs:{label:"属性",name:"attrs"}},[n("CommonAttrs"),e.activeComponent.component?n(e.activeComponent.component+"Attr",{tag:"component",attrs:{attrStyle:e.activeComponent.attrStyle}}):e._e()],1),e.hasDataRelatedList.includes(e.activeComponent.component)?n("TabPane",{staticClass:"hide-scroll-bar",attrs:{label:"数据联动",name:"data"}},[n("DataRelated",{attrs:{componentData:e.activeComponent}},[e.activeComponent.component?n(e.activeComponent.component+"DataSettings",{tag:"component",attrs:{componentData:e.activeComponent}}):e._e()],1)],1):e._e()],1),n("CanvasAttrs",{directives:[{name:"show",rawName:"v-show",value:!e.activeComponent.component,expression:"!activeComponent.component"}]})],1)])],1),n("ContextMenu")],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"cavas-size-info"},[n("span",[e._v("按住空格可拖动画布")]),n("span",{staticClass:"ml-12px"},[e._v("1920 * 1080")])])}],i=n("5530"),c=n("15fd"),l=n("d4ec"),s=n("bee2"),r=n("262e"),d=n("2caf"),u=(n("d81d"),n("b64b"),n("ac1f"),n("5319"),n("4160"),n("d3b7"),n("159b"),n("9ab4")),p=n("1b40"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"header"},[n("li",{staticClass:"left"}),n("li",{staticClass:"center"},[n("div",{staticClass:"operation-wrap flex-justify-start"},[n("ComAddPanel",{attrs:{componentData:e.chartsCompnents}},[n("Button",{attrs:{"custom-icon":"bl-icon-add",type:"primary"}},[e._v(" 添加图表 ")])],1),n("ComAddPanel",{staticClass:"ml-8px",attrs:{componentData:e.commonCompnents}},[n("Button",{attrs:{"custom-icon":"bl-icon-add"}},[e._v("通用组件")])],1),n("div",{staticClass:"operation-btns"},[n("i",{staticClass:"bl-icon-undo",class:{disabled:e.disableUndo},attrs:{title:"撤销：Ctrl+Z"},on:{click:e.undo}}),n("i",{staticClass:"bl-icon-redo",class:{disabled:e.disableRedo},attrs:{title:"重做：Shift+Ctrl+Z"},on:{click:e.redo}})])],1),n("EditorTools")],1),n("li",{staticClass:"right"},[n("Button",{attrs:{"custom-icon":"bl-icon-visible"},on:{click:function(t){return t.stopPropagation(),e.preview.apply(null,arguments)}}},[e._v(" 预览 ")]),n("Button",{staticClass:"ml-8px",attrs:{"custom-icon":"bl-icon-save"},on:{click:function(t){return t.stopPropagation(),e.save.apply(null,arguments)}}},[e._v(" 保存 ")]),n("Icon",{staticClass:"ml-8px",attrs:{custom:"bl-icon-exit light-txt",title:"退出"},on:{click:function(t){return e.$router.go(-1)}}})],1)])},f=[],b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editor-tool-wrap"},[n("i",{staticClass:"bl-icon-decrease",on:{click:e.zoomOut}}),n("Input",{staticClass:"zoom-num",attrs:{type:"number"},on:{"on-change":e.onScaleChange},model:{value:e.scale,callback:function(t){e.scale=t},expression:"scale"}}),n("span",{staticClass:"percent"},[e._v("%")]),n("i",{staticClass:"bl-icon-increase",on:{click:e.zoomIn}}),n("i",{staticClass:"ivu-icon ivu-icon-md-qr-scanner ml-8px",on:{click:e.fixToEditor}})],1)},v=[],m=n("9087"),g=n("c530"),y=n("49b6"),C=function(e){Object(r["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.scale=100,e.debounceChange=Object(m["b"])((function(e){e()}),1e3),e}return Object(s["a"])(n,[{key:"canvasScale",get:function(){return Math.round(100*g["a"].canvasScale)}},{key:"onChange",value:function(){this.scale=this.canvasScale}},{key:"onScaleChange",value:function(){var e=this;this.debounceChange((function(){e.scale||(e.scale=e.canvasScale),e.scale<30?e.scale=20:e.scale>200&&(e.scale=200),g["a"].updateData({key:"canvasScale",data:e.scale/100})}))}},{key:"zoomIn",value:function(){g["a"].updateData({key:"canvasScale",data:Math.min(g["a"].canvasScale+.1,2)})}},{key:"zoomOut",value:function(){g["a"].updateData({key:"canvasScale",data:Math.max(g["a"].canvasScale-.1,.3)})}},{key:"fixToEditor",value:function(){Object(y["g"])()}}]),n}(p["h"]);Object(u["a"])([Object(p["i"])("canvasScale")],C.prototype,"onChange",null),C=Object(u["a"])([p["a"]],C);var k=C,S=k,w=(n("2e3c"),n("2877")),x=Object(w["a"])(S,b,v,!1,null,"33317482",null),j=x.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dropdown",{attrs:{placement:"bottom-start","stop-propagation":"",trigger:"custom",visible:e.isShowComponentPannel},on:{"on-clickoutside":e.onClickOutside}},[n("div",{on:{click:function(t){e.isShowComponentPannel=!e.isShowComponentPannel}}},[e._t("default")],2),n("DropdownMenu",{staticClass:"mt-8px",attrs:{slot:"list"},slot:"list"},e._l(e.componentData,(function(t,o){return n("div",{key:o,staticClass:"add-menu-wrap"},[n("div",{staticClass:"add-menu-title mb-4px font-bold"},[e._v(" "+e._s(t.title)+" ")]),n("ul",{staticClass:"add-menu-list"},[e._l(t.components,(function(t,o){return[n("Tooltip",{key:o,attrs:{content:t.label,transfer:"",placement:"top",theme:"light"}},[n("li",{attrs:{draggable:!0,unselectable:"on"},on:{dragend:function(n){return e.onComponentDragend(t,n)},click:function(n){return e.onAddComponent(t)}}},[n("IconSymbol",{attrs:{icon:"#"+t.icon,size:"48"}})],1)])]}))],2)])})),0)],1)},L=[],A=(n("e9c4"),n("7475")),D=n("608e"),_=function(e){Object(r["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.isShowComponentPannel=!1,e}return Object(s["a"])(n,[{key:"activeComponent",get:function(){return g["a"].activeComponent}},{key:"mounted",value:function(){var e=function(e){var t;e.preventDefault(),null!==(t=e.dataTransfer)&&void 0!==t&&t.dropEffect&&(e.dataTransfer.dropEffect="move")};document.addEventListener("dragover",e),this.$once("hook:beforeDestroy",(function(){document.removeEventListener("dragover",e)}))}},{key:"onClickOutside",value:function(){this.isShowComponentPannel=!1}},{key:"onAddComponent",value:function(e){var t={};if("Vgroup"!==this.activeComponent.component){var n=e.propStyle,o=n.width,a=n.height;Object.assign(t,{left:960-o/2,top:540-a/2})}this.addNewComponent(e,t)}},{key:"onComponentDragend",value:function(e,t){this.isShowComponentPannel=!1;var n=document.getElementById("visiualEditorContainer");if(n){var o=Object(y["d"])(n,t);if(o){if("Vgroup"===this.activeComponent.component){var a=Object(A["h"])(this.activeComponent);o.left-=a.left,o.top-=a.top}o.left-=80,this.addNewComponent(e,o)}}}},{key:"addNewComponent",value:function(e,t){var n=this.activeComponent,o=n.component,a=n.children,c=n.guid,l=JSON.parse(JSON.stringify(Object(i["a"])(Object(i["a"])({},e),{},{isLock:!1,isShow:!0,level:"",expanded:!0,pGuid:"Vgroup"===o?c:"",guid:Object(A["g"])()})));Object.assign(l.propStyle,t),g["a"].addNewComponent({data:l,tagetList:"Vgroup"===o?a:void 0}),D["a"].pushRecord()}}]),n}(p["h"]);Object(u["a"])([Object(p["d"])()],_.prototype,"componentData",void 0),_=Object(u["a"])([p["a"]],_);var M=_,E=M,I=(n("6e1e"),Object(w["a"])(E,O,L,!1,null,"5da7f43c",null)),P=I.exports,G=n("ffcb"),R=function(e){Object(r["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.commonCompnents=Object(G["f"])(),e.chartsCompnents=Object(G["e"])(),e}return Object(s["a"])(n,[{key:"disableUndo",get:function(){return 0===D["a"].curIndex}},{key:"disableRedo",get:function(){var e=D["a"].rollbackList.length;return!e||D["a"].curIndex>=e-1}},{key:"undo",value:function(){D["a"].undo()}},{key:"redo",value:function(){D["a"].redo()}},{key:"save",value:function(){console.log(g["a"].allAddedComponents)}},{key:"preview",value:function(){this.$router.push("/screenPreview")}}]),n}(p["h"]);R=Object(u["a"])([Object(p["a"])({components:{EditorTools:j,ComAddPanel:P}})],R);var T=R,N=T,V=(n("4aee"),Object(w["a"])(N,h,f,!1,null,"736ac7f0",null)),z=V.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"added-list-wrap",on:{contextmenu:e.handleContextMenu}},[n("div",{staticClass:"mb-8px"},[n("i",{staticClass:"icon bl-icon-action",attrs:{title:"展开 / 折叠所有图层"},on:{click:e.triggerExpand}})]),n("ComLayer",{attrs:{componentList:e.allSortComponents},on:{"update:componentList":function(t){e.allSortComponents=t},"update:component-list":function(t){e.allSortComponents=t}}})],1)},K=[],B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"drag-list"},[n("draggable",{attrs:{animation:"400",swapThreshold:.65,group:e.group,move:e.onMove,disabled:!!e.editlabelId},on:{choose:e.onChoose,end:e.onEnd},model:{value:e.curSortList,callback:function(t){e.curSortList=t},expression:"curSortList"}},e._l(e.curSortList,(function(t,o){return n("li",{key:t.guid,attrs:{nodeIndex:o}},[n("div",{staticClass:"added-comp-item flex-justify-between",class:{actived:e.activeComponent.guid===t.guid||e.allComponentGuidInArea.includes(t.guid)},on:{mousedown:function(n){return e.onActiveComponent(n,t)}}},[n("div",{staticClass:"flex-justify-start row-item-wrap"},[n("span",{staticClass:"collapse-icon",class:{close:!t.expanded}},["Vgroup"===t.component&&t.children.length?n("i",{staticClass:"icon bl-icon-arrow-down",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.expanded=!t.expanded}}}):e._e()]),n("i",{staticClass:"mr-4px",class:e.componentIconMap[t.component]}),e.editlabelId&&e.editlabelId===t.guid?n("Input",{directives:[{name:"focus",rawName:"v-focus",value:e.editlabelId===t.guid,expression:"editlabelId === item.guid"}],attrs:{size:"small"},on:{"on-blur":function(n){return e.onSaveLabel(t)}},model:{value:e.editlabel,callback:function(t){e.editlabel=t},expression:"editlabel"}}):n("p",{on:{dblclick:function(n){return n.stopPropagation(),n.preventDefault(),e.onDblClickComponent(t)}}},[e._v(" "+e._s(t.label)+" ")])],1),n("span",{staticClass:"attr-icons"},[n("i",{directives:[{name:"show",rawName:"v-show",value:t.isLock,expression:"item.isLock"}],class:t.isLock?"bl-icon-unlock2":"bl-icon-lock2",on:{click:function(n){return e.handleLock(!t.isLock)}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:!t.isShow,expression:"!item.isShow"}],class:t.isShow?"bl-icon-hide":"bl-icon-unhide",on:{click:function(n){return e.handleShow(!t.isShow)}}})])]),"Vgroup"===t.component?[n("Comlayer",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"item.expanded"}],key:t.guid+"sub",attrs:{"component-list":t.children},on:{"update:componentList":function(n){return e.$set(t,"children",n)},"update:component-list":function(n){return e.$set(t,"children",n)}}})]:e._e()],2)})),0)],1)},X=[],Y=(n("c740"),n("a434"),n("1276"),n("4795"),n("b76a")),H=n.n(Y),J=function(e){Object(r["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.componentIconMap=G["c"],e.editlabelId="",e.editlabel="",e.curComponentCanvasPos={left:0,top:0},e}return Object(s["a"])(n,[{key:"areaComponents",get:function(){return g["a"].selectedDatas.areaComponents}},{key:"allComponentGuidInArea",get:function(){return g["a"].selectedDatas.areaComponents.map((function(e){return e.guid}))}},{key:"group",get:function(){var e=this.curSortList[0];return{name:null!==e&&void 0!==e&&e.pGuid?"parent":"sub",put:!0,pull:!0}}},{key:"activeComponent",get:function(){return g["a"].activeComponent}},{key:"onActiveComponent",value:function(e,t){if(!g["a"].holdCtrl)return g["a"].updateData({key:"activeComponent",data:t}),void(0===e["button"]&&g["a"].hideSelectArea());var n=this.areaComponents.findIndex((function(e){return e.guid===t.guid}));n>-1?(g["a"].resetActiveComponent(),this.areaComponents.splice(n,1)):(g["a"].updateData({key:"activeComponent",data:t}),this.areaComponents.push(t)),g["a"].updateSelectDates({isShow:!0,areaStyle:Object(y["b"])(this.areaComponents),areaComponents:this.areaComponents})}},{key:"onDblClickComponent",value:function(e){this.editlabelId=e.guid,this.editlabel=e.label}},{key:"onSaveLabel",value:function(){g["a"].setComponentLabel(this.editlabel||this.activeComponent.label),this.editlabelId="",this.editlabel=""}},{key:"handleLock",value:function(e){g["a"].setComponentAttr({isLock:e})}},{key:"handleShow",value:function(e){g["a"].setComponentAttr({isShow:e})}},{key:"onChoose",value:function(){this.curComponentCanvasPos=Object(A["h"])(this.activeComponent)}},{key:"onMove",value:function(e){var t=e.draggedContext.element,n=e.relatedContext.element;this.onActiveComponent(e,t);var o=Object(A["i"])();return 2!==o&&(1!=o||3!==n.level.split("-").length)}},{key:"onEnd",value:function(){Object(y["a"])(this.activeComponent,this.allSortComponents,this.curComponentCanvasPos),D["a"].pushRecord()}}]),n}(p["h"]);Object(u["a"])([Object(p["e"])("componentList")],J.prototype,"curSortList",void 0),Object(u["a"])([Object(p["b"])()],J.prototype,"allSortComponents",void 0),J=Object(u["a"])([Object(p["a"])({name:"Comlayer",components:{draggable:H.a},directives:{focus:function(e,t){var n=t.value;setTimeout((function(){n&&e.getElementsByTagName("input")[0].focus()}),600)}}})],J);var Z=J,U=Z,W=(n("9592"),Object(w["a"])(U,B,X,!1,null,"76ffb5d5",null)),q=W.exports,F=function(e){Object(r["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.allSortComponents=[],e.isAllExpaned=!0,e}return Object(s["a"])(n,[{key:"allAddedComponents",get:function(){return g["a"].allAddedComponents}},{key:"onChange",value:function(){this.allSortComponents=this.allAddedComponents}},{key:"triggerExpand",value:function(){var e=this;this.isAllExpaned=!this.isAllExpaned,Object(A["j"])(this.allSortComponents,(function(t){t.expanded=e.isAllExpaned}))}},{key:"handleContextMenu",value:function(e){e.stopPropagation(),e.preventDefault(),g["a"].activeComponent.component&&g["a"].updateData({key:"contextInfo",data:{isShow:!0,top:"".concat(e.clientY,"px"),left:"".concat(e.clientX,"px")}})}}]),n}(p["h"]);Object(u["a"])([Object(p["f"])()],F.prototype,"allSortComponents",void 0),Object(u["a"])([Object(p["i"])("allAddedComponents",{immediate:!0})],F.prototype,"onChange",null),F=Object(u["a"])([Object(p["a"])({components:{ComLayer:q}})],F);var Q=F,ee=Q,te=(n("e4391"),Object(w["a"])(ee,$,K,!1,null,"7ed00de2",null)),ne=te.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"editor-container",attrs:{id:"visiualEditorContainer"},on:{mousedown:e.onSelectArea}},[n("Vcanvas",{tag:"component"}),e._l(e.allAddedComponents,(function(e,t){return[n("Shape",{key:e.guid,attrs:{index:t,nodeInfos:e}},[n(e.component,{tag:"component",attrs:{"node-info":e}})],1)]})),n("DragMarkLine"),n("SelectingArea",{directives:[{name:"show",rawName:"v-show",value:e.selectAreaInfos.isShow,expression:"selectAreaInfos.isShow"}],attrs:{propStyle:e.selectAreaInfos.areaStyle}})],2)},ae=[],ie=n("f376"),ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mark-line"},e._l(e.markLines,(function(t,o){return n("div",{directives:[{name:"show",rawName:"v-show",value:t||!1,expression:"status || false"}],key:o,class:o.includes("x-")?o+" xline line":o+" yline line",style:e.getMarkLineStyle(o)})})),0)},le=[],se=(n("6062"),n("3ca3"),n("ddb0"),n("4de4"),n("caad"),n("2532"),3),re={"x-top":"x-bottom","x-bottom":"x-top","y-left":"y-right","y-right":"y-left"},de=function(e){Object(r["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.markLines={"x-top":!1,"x-center":!1,"x-bottom":!1,"y-left":!1,"y-center":!1,"y-right":!1},e}return Object(s["a"])(n,[{key:"activeComponent",get:function(){return g["a"].activeComponent}},{key:"isComponentDragging",get:function(){return g["a"].isComponentDragging}},{key:"allComponentMarkLinePos",get:function(){var e=this,t=[],n=new Set;n.add(this.activeComponent.guid);var o=g["a"].allAddedComponents;Object(A["j"])(o,(function(o){n.has(o.pGuid)?n.add(o.guid):t.push(Object(i["a"])({guid:o.guid,label:o.label},e.getLineCanvasPos(o)))}));var a=new Set,c=this.activeComponent.pGuid;a.add(this.activeComponent.guid),a.add(c);while(c){var l=Object(A["b"])(c);l&&a.add(l.guid),c=(null===l||void 0===l?void 0:l.pGuid)||""}return t.filter((function(e){return!a.has(e.guid)}))}},{key:"activeNodeLinePos",get:function(){return this.getLineCanvasPos(this.activeComponent)}},{key:"onDragStatusChange",value:function(){!this.isComponentDragging&&this.hideLines()}},{key:"mounted",value:function(){var e=this;this.$EventBus.$on("component-move",(function(){e.showLines()}))}},{key:"destroyed",value:function(){this.$EventBus.$off("component-move")}},{key:"getMarkLineStyle",value:function(e){var t={},n=this.activeNodeLinePos[e];return t[e.includes("x-")?"top":"left"]="".concat(n,"px"),t}},{key:"getLineCanvasPos",value:function(e){var t=Object(A["h"])(e),n=t.top,o=t.left,a=e.propStyle,i=a.width,c=a.height;return{"x-top":n,"x-center":Math.round(n+c/2),"x-bottom":Math.round(n+c),"y-left":o,"y-center":Math.round(o+i/2),"y-right":Math.round(o+i)}}},{key:"showLines",value:function(){var e=this;this.hideLines();var t={},n=function(n){e.allComponentMarkLinePos.forEach((function(o){if(!e.markLines[n]){if(e.markLines[n]=Math.abs(e.activeNodeLinePos[n]-o[n])<se,e.markLines[n])t[n]=n;else if(re[n]){var a=re[n];e.markLines[n]=Math.abs(e.activeNodeLinePos[n]-o[a])<se,e.markLines[n]&&(t[n]=a)}if(e.markLines[n]){var i=e.calculateAdsorptionPos(n,o[t[n]]);Object(y["h"])({top:i.top-e.activeComponent.propStyle.top,left:i.left-e.activeComponent.propStyle.left})}}}))};for(var o in this.activeNodeLinePos)n(o)}},{key:"calculateAdsorptionPos",value:function(e,t){var n=this.activeComponent.propStyle,o=n.width,a=n.height,i=n.top,c=n.left,l={top:i,left:c},s={top:this.activeNodeLinePos["x-top"],left:this.activeNodeLinePos["y-left"]};if(e.includes("x-")){var r=s.top-i;"x-center"==e?r+=a/2:"x-bottom"==e&&(r+=a),l["top"]=t-r}else{var d=s.left-c;"y-center"==e?d+=o/2:"y-right"==e&&(d+=o),l["left"]=t-d}return l}},{key:"hideLines",value:function(){for(var e in this.markLines)this.markLines[e]=!1}}]),n}(p["h"]);Object(u["a"])([Object(p["i"])("isComponentDragging")],de.prototype,"onDragStatusChange",null),de=Object(u["a"])([p["a"]],de);var ue=de,pe=ue,he=(n("d902"),Object(w["a"])(pe,ce,le,!1,null,"0a40db4a",null)),fe=he.exports,be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"select-area",style:e.areaStyle})},ve=[],me=function(e){Object(r["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"areaStyle",get:function(){var e=this,t={};return Object.keys(this.propStyle).forEach((function(n){t[n]="".concat(e.propStyle[n],"px")})),t}}]),n}(p["h"]);Object(u["a"])([Object(p["d"])()],me.prototype,"propStyle",void 0),me=Object(u["a"])([p["a"]],me);var ge=me,ye=ge,Ce=(n("53bd"),Object(w["a"])(ye,be,ve,!1,null,"ab1dde1c",null)),ke=Ce.exports,Se=n("8090"),we=function(e){Object(r["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.isPreview=!1,e}return Object(s["a"])(n,[{key:"selectAreaInfos",get:function(){return g["a"].selectedDatas}},{key:"activeComponent",get:function(){return g["a"].activeComponent}},{key:"allAddedComponents",get:function(){return Object(A["e"])(),g["a"].allAddedComponents}},{key:"scale",get:function(){return g["a"].canvasScale}},{key:"mounted",value:function(){var e=document.getElementById("visiualEditorContainer");e&&(this.canvasContainer=e)}},{key:"beforeDestroy",value:function(){}},{key:"onSelectArea",value:function(e){var t=this;if(g["a"].updateData({key:"contextInfo",data:{isShow:!1,top:"0",left:"0"}}),!g["a"].holdSpace){e.stopPropagation(),this.hideArea();var n=this.canvasContainer.getBoundingClientRect(),o=n.top,a=n.left,i=Object(A["f"])({top:o,left:a}),c=Object(A["f"])({x:e.pageX,y:e.pageY});g["a"].updateSelectDates({isShow:!0});var l=function(e){var t=Object(A["f"])({clientX:e.clientX,clientY:e.clientY}),n=t.clientX,o=t.clientY;g["a"].updateSelectDates({areaStyle:{width:Math.round(Math.abs(n-c.x)),height:Math.round(Math.abs(o-c.y)),top:Math.round(Math.min(c.y-i.top,o-i.top)),left:Math.round(Math.min(c.x-i.left,n-i.left))}})},s=function e(n){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",e),g["a"].resetActiveComponent();var o=Object(A["f"])({clientX:n.clientX,clientY:n.clientY}),a=o.clientX,i=o.clientY;if(a!=c.x||i!=c.y){var s=Object(y["e"])();s.length<1?t.hideArea():g["a"].updateSelectDates({areaComponents:s})}else t.hideArea()};document.addEventListener("mousemove",l),document.addEventListener("mouseup",s)}}},{key:"hideArea",value:function(){g["a"].hideSelectArea()}}]),n}(p["h"]);Object(u["a"])([Object(p["f"])()],we.prototype,"isPreview",void 0),we=Object(u["a"])([Object(p["a"])({components:Object(i["a"])({Shape:ie["a"],DragMarkLine:fe,SelectingArea:ke},Se["b"])})],we);var xe=we,je=xe,Oe=(n("3562"),Object(w["a"])(je,oe,ae,!1,null,"7880bae0",null)),Le=Oe.exports,Ae=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},De=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvas-attrs"},[n("div",{staticClass:"title font-bold"},[e._v("页面设置")])])}],_e=function(e){Object(r["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n)}(p["h"]);_e=Object(u["a"])([p["a"]],_e);var Me=_e,Ee=Me,Ie=(n("be90"),Object(w["a"])(Ee,Ae,De,!1,null,"28b144b6",null)),Pe=Ie.exports,Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{directives:[{name:"show",rawName:"v-show",value:e.contextInfo.isShow,expression:"contextInfo.isShow"}],staticClass:"contex-menu",style:e.contextInfo.style},e._l(e.menuList,(function(t){return n("li",{directives:[{name:"show",rawName:"v-show",value:!t.isHidden,expression:"!menu.isHidden"}],key:t.label},[n("div",{staticClass:"menu-item flex-justify-between",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.onMenuClick(t.clickMethod)}}},[n("div",[n("i",{class:t.icon}),n("span",{staticClass:"ml-8px"},[e._v(e._s(t.label))])]),n("i",{directives:[{name:"show",rawName:"v-show",value:t.children,expression:"menu.children"}],staticClass:"bl-icon-arrow-right ml-2"})]),t.children?n("ul",{staticClass:"sub-menu-list"},e._l(t.children,(function(t){return n("li",{key:t.label,on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.onMenuClick(t.clickMethod)}}},[n("div",{staticClass:"menu-item"},[n("i",{class:t.icon}),n("span",{staticClass:"ml-8px"},[e._v(e._s(t.label))])])])})),0):e._e()])})),0)},Re=[],Te=n("2909"),Ne=(n("99af"),["propStyle","guid","pGuid"]),Ve=function(){var e,t=g["a"].activeComponent,n=t.propStyle,o=t.guid,a=t.pGuid,l=Object(c["a"])(t,Ne),s=Object(A["g"])(),r={guid:s,component:"Vgroup",label:"组合",pGuid:a,isLock:!1,isShow:!0,level:"",expanded:!0,propStyle:Object(i["a"])({},n),attrStyle:{},children:[Object(i["a"])(Object(i["a"])({},l),{},{guid:o,pGuid:s,propStyle:Object(i["a"])(Object(i["a"])({},n),{},{top:0,left:0})})]},d=Object(A["c"])(o);g["a"].deleteComponent(o),g["a"].addNewComponent({data:r,index:d,tagetList:a?null===(e=Object(A["b"])(a))||void 0===e?void 0:e.children:void 0})},ze=function(){var e,t=g["a"].activeComponent,n=t.guid,o=t.pGuid,a=t.children,c=(null===a||void 0===a?void 0:a.map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{pGuid:o,propStyle:Object(i["a"])(Object(i["a"])({},e.propStyle),Object(y["f"])(e,o))})})))||[],l=Object(A["c"])(n);g["a"].deleteComponent(n),g["a"].batchAddNewComponent({data:c,tagetList:o?null===(e=Object(A["b"])(o))||void 0===e?void 0:e.children:void 0,index:l})},$e=["isShow"],Ke=function(e){Object(r["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"contextInfo",get:function(){var e=g["a"].contextInfo,t=e.isShow,n=Object(c["a"])(e,$e);return{isShow:t,style:n}}},{key:"curChildrenLayers",get:function(){return Object(A["i"])()}},{key:"selectAreaInfos",get:function(){return g["a"].selectedDatas}},{key:"activeComponent",get:function(){return g["a"].activeComponent}},{key:"menuList",get:function(){var e=this,t=this.activeComponent,n=t.component,o=t.isLock,a=t.isShow,i=t.level,c=i.split("-"),l=this.selectAreaInfos.isShow;return[{label:"图层排序",icon:"bl-icon-delete",isHidden:l,children:[{label:"置顶",icon:"bl-icon-delete",clickMethod:function(){e.changeLayer(1/0)}},{label:"置底",icon:"bl-icon-delete",clickMethod:function(){e.changeLayer(0)}},{label:"上移一层",icon:"bl-icon-delete",clickMethod:function(){e.changeLayer(1)}},{label:"下移一层",icon:"bl-icon-delete",clickMethod:function(){e.changeLayer(-1)}}]},{label:"解散组合",icon:"bl-icon-delete",isHidden:"Vgroup"!==n||l,clickMethod:ze},{label:"成组",icon:"bl-icon-delete",isHidden:c.length+this.curChildrenLayers>=3||l,clickMethod:Ve},{label:"锁定",icon:"bl-icon-unlock2",isHidden:!l&&o,clickMethod:function(){e.lockComponent(!0)}},{label:"解锁",isHidden:!l&&!o,icon:"bl-icon-lock2",clickMethod:function(){e.lockComponent(!1)}},{label:"隐藏",icon:"bl-icon-unhide",isHidden:!l&&!a,clickMethod:function(){e.hideComponent(!1)}},{label:"显示",isHidden:!l&&a,icon:"bl-icon-hide",clickMethod:function(){e.hideComponent(!0)}},{label:"删除",icon:"bl-icon-delete",clickMethod:this.delComponent},{label:"复制",icon:"ivu-icon ivu-icon-md-copy",clickMethod:this.copyComponent,isHidden:l}]}},{key:"changeLayer",value:function(e){var t,n=this.activeComponent,o=n.pGuid,a=n.guid,i=(null===(t=Object(A["b"])(o))||void 0===t?void 0:t.children)||g["a"].allAddedComponents,c=Object(A["c"])(a);if(i.length){var l=e?Math.min(c+e,i.length-1):0;i.splice.apply(i,[l,0].concat(Object(Te["a"])(i.splice(c,1))))}D["a"].pushRecord()}},{key:"delComponent",value:function(){if(this.selectAreaInfos.isShow)this.selectAreaInfos.areaComponents.forEach((function(e){g["a"].deleteComponent(e.guid)}));else{var e=g["a"].activeComponent.guid;g["a"].deleteComponent(e)}D["a"].pushRecord()}},{key:"lockComponent",value:function(e){var t={isLock:e};if(this.selectAreaInfos.isShow){var n=this.selectAreaInfos.areaComponents.map((function(e){return e.guid}));g["a"].batchSetComponentAttr({guidList:n,data:t})}else g["a"].setComponentAttr(t)}},{key:"hideComponent",value:function(e){var t={isShow:e};if(this.selectAreaInfos.isShow){var n=this.selectAreaInfos.areaComponents.map((function(e){return e.guid}));g["a"].batchSetComponentAttr({guidList:n,data:t})}else g["a"].setComponentAttr(t)}},{key:"copyComponent",value:function(){var e,t=Object(m["c"])(this.activeComponent);t.guid=Object(A["g"])(),t.children&&Object(A["j"])(t.children,(function(e,t){e.guid=Object(A["g"])(),t&&(e.pGuid=t)}),t.guid);var n=this.activeComponent,o=n.guid,a=n.pGuid,i=Object(A["c"])(o);g["a"].addNewComponent({data:t,index:i,tagetList:a?null===(e=Object(A["b"])(a))||void 0===e?void 0:e.children:void 0}),D["a"].pushRecord()}},{key:"onMenuClick",value:function(e){e&&(e(),g["a"].updateData({key:"contextInfo",data:{isShow:!1,top:"0",left:"0"}}))}}]),n}(p["h"]);Ke=Object(u["a"])([p["a"]],Ke);var Be=Ke,Xe=Be,Ye=(n("aba0"),Object(w["a"])(Xe,Ge,Re,!1,null,"80d6f364",null)),He=Ye.exports,Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"align-menu",class:{actived:e.subComponents.length>1}},e._l(e.menuList,(function(t,o){return n("li",{key:o,on:{click:function(t){return e.handleAlign(o)}}},[n("i",{class:t.icon,attrs:{title:t.title}})])})),0)},Ze=[],Ue=function(e){Object(r["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.menuList={"align-left":{icon:"bl-icon-align-left",title:"向左对齐"},"align-vertical":{icon:"bl-icon-align-vertical",title:"垂直居中"},"align-right":{icon:"bl-icon-align-right",title:"向右对齐"},"align-top":{icon:"bl-icon-align-top",title:"向上对齐"},"align-horizontal":{icon:"bl-icon-align-horizontal",title:"水平居中"},"align-bottom":{icon:"bl-icon-align-bottom",title:"向下对齐"}},e}return Object(s["a"])(n,[{key:"hasSelectArea",get:function(){return!!g["a"].selectedDatas.areaComponents.length}},{key:"subComponents",get:function(){return this.hasSelectArea?g["a"].selectedDatas.areaComponents:g["a"].activeComponent.children||[]}},{key:"groupStyle",get:function(){return this.hasSelectArea?g["a"].selectedDatas.areaStyle:Object(i["a"])(Object(i["a"])({},g["a"].activeComponent.propStyle),{},{top:0,left:0})}},{key:"handleAlign",value:function(e){var t=this;if(!(this.subComponents.length<2)){var n=this.groupStyle,o=n.width,a=n.height,i=n.top,c=n.left;this.subComponents.forEach((function(n){var l=n.propStyle,s={};switch(e){case"align-left":s["left"]=c;break;case"align-vertical":s["left"]=c+(o-l.width)/2;break;case"align-right":s["left"]=c+o-l.width;break;case"align-top":s["top"]=i;break;case"align-horizontal":s["top"]=i+(a-l.height)/2;break;case"align-bottom":s["top"]=i+a-l.height;break}if(t.hasSelectArea){var r=Object(A["b"])(n.pGuid),d=Object(A["h"])(r);s["top"]&&(s["top"]-=d.top),s["left"]&&(s["left"]-=d.left)}Object.assign(n.propStyle,s)})),g["a"].updateSelectDates({areaStyle:Object(y["b"])(this.subComponents)}),D["a"].pushRecord()}}}]),n}(p["h"]);Ue=Object(u["a"])([p["a"]],Ue);var We=Ue,qe=We,Fe=(n("f24c"),Object(w["a"])(qe,Je,Ze,!1,null,"4ce0b6b9",null)),Qe=Fe.exports,et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("bl-form",{staticClass:"attr-form-wrap mt-12px",attrs:{formItems:e.formItems,defaultValue:e.activeComponent,"label-width":70,itemClass:"mb-1",labelColon:!1,labelPosition:"left",itemSize:"small"}},[n("div",{staticClass:"flex-justify-start",attrs:{slot:"pos"},slot:"pos"},[n("p",{staticClass:"pos-size-show-cell"},[n("span",{staticClass:"mr-4px"},[e._v("X")]),n("span",[e._v(e._s(e.activeComponent.propStyle.left))])]),n("p",{staticClass:"pos-size-show-cell"},[n("span",{staticClass:"mr-4px"},[e._v("Y")]),n("span",[e._v(e._s(e.activeComponent.propStyle.top))])])]),n("div",{staticClass:"flex-justify-start",attrs:{slot:"size"},slot:"size"},[n("div",{staticClass:"pos-size-show-cell"},[n("span",{staticClass:"mr-4px"},[e._v("W")]),n("InputNumber",{staticStyle:{width:"60px"},attrs:{precision:0,min:20,max:1920,size:"small",disabled:e.activeComponent.isLock,"active-change":!1},model:{value:e.activeComponent.propStyle.width,callback:function(t){e.$set(e.activeComponent.propStyle,"width",t)},expression:"activeComponent.propStyle.width"}})],1),n("div",{staticClass:"pos-size-show-cell"},[n("span",{staticClass:"mr-4px"},[e._v("H")]),n("InputNumber",{staticStyle:{width:"60px"},attrs:{precision:0,min:20,max:1080,size:"small",disabled:e.activeComponent.isLock,"active-change":!1},model:{value:e.activeComponent.propStyle.height,callback:function(t){e.$set(e.activeComponent.propStyle,"height",t)},expression:"activeComponent.propStyle.height"}})],1)])])],1)},tt=[],nt=function(e){Object(r["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"activeComponent",get:function(){return g["a"].activeComponent}},{key:"formItems",get:function(){return[{key:"pos",label:"位置",bltype:"slot"},{key:"size",label:"尺寸",bltype:"slot"},{key:"isLock",label:"锁定",bltype:"single-checkbox"},{key:"isShow",label:"显示",bltype:"single-checkbox"}]}}]),n}(p["h"]);nt=Object(u["a"])([p["a"]],nt);var ot=nt,at=ot,it=(n("34da"),Object(w["a"])(at,et,tt,!1,null,"9c9c1874",null)),ct=it.exports,lt=n("93c0"),st=n("970a"),rt=[{guid:"446da9a5-2b01-1684916154096-bde4",component:"Vgroup",label:"左侧",pGuid:"",isLock:!1,isShow:!0,level:"1",expanded:!0,propStyle:{left:16,top:99,width:406,height:938},attrStyle:{text:"标题1",align:"center"},children:[{guid:"1c6ce420-a60d-1684916154096-a478",component:"Vgroup",label:"上",pGuid:"446da9a5-2b01-1684916154096-bde4",isLock:!1,isShow:!0,level:"1-1",expanded:!0,propStyle:{left:0,top:0,width:406,height:300},attrStyle:{text:"标题1",align:"center"},children:[{label:"容器1",component:"Vcontainer",isLock:!0,isShow:!0,level:"1-1-1",expanded:!0,guid:"33386970-76a9-1684916154096-8169",pGuid:"1c6ce420-a60d-1684916154096-a478",propStyle:{left:0,top:0,width:406,height:300},attrStyle:{text:"仪表盘",align:"center"}},{label:"仪表盘",component:"VgaugeChart",propStyle:{left:20.5,top:47.5,width:349,height:233},attrStyle:{series:{min:0,max:100,radius:100,color:"rgba(228,171,47,1)",unit:"",isAlarm:!1,alarmItem1:{value:"",color:""},alarmItem2:{value:"",color:""}}},icon:"bl-icon-zhibiao",dataConfigs:{dimensions:[],measures:[],filters:[],autoRefresh:!1,refreshRate:10,unit:"second",resultNum:100},isLock:!1,isShow:!0,level:"1-1-2",expanded:!0,pGuid:"1c6ce420-a60d-1684916154096-a478",guid:"f9607895-2eae-1700983560085-9801"}]},{guid:"4223df5c-2e19-1684916154096-b6f7",component:"Vgroup",label:"中",pGuid:"446da9a5-2b01-1684916154096-bde4",isLock:!1,isShow:!0,level:"1-2",expanded:!0,propStyle:{left:0,top:319,width:406,height:300},attrStyle:{text:"标题2",align:"center"},children:[{label:"容器2",component:"Vcontainer",isLock:!0,isShow:!0,level:"1-2-1",expanded:!0,guid:"961a0a42-054e-1684916154096-b194",pGuid:"4223df5c-2e19-1684916154096-b6f7",propStyle:{left:0,top:0,width:406,height:300},attrStyle:{text:"折线图",align:"center"}},{label:"折线图",component:"VlineChart",propStyle:{left:15,top:62,width:377,height:229},attrStyle:{colorType:"1",grid:{left:16,right:16,bottom:0,top:30},legend:{show:!0,position:"top",left:"center",top:"middle"},tooltip:{show:!0,backgroundColor:"#1f1f1f",borderColor:"rgba(255, 255, 255, 0.25)"},xAxis:{show:!0,labelRule:"auto",tickShow:!1,splitLineShow:!1},yAxis:{show:!0,name:"",unit:"",labelRule:"auto",lineShow:!1,tickShow:!1,splitLineShow:!0},series:{symbol:"emptyCircle",connectNulls:!1,labelShow:!1,manMinValShow:!1,averageLineShow:!1,chartType:"line",stack:!0,isGradient:!0,opacityTop:35,smooth:!0}},isLock:!1,isShow:!0,level:"1-2-2",expanded:!0,pGuid:"4223df5c-2e19-1684916154096-b6f7",guid:"e8781937-bf17-1684916154096-96fb"}]},{guid:"41d9300b-7b0a-1684916154096-96bd",component:"Vgroup",label:"下",pGuid:"446da9a5-2b01-1684916154096-bde4",isLock:!1,isShow:!0,level:"1-3",expanded:!0,propStyle:{left:0,top:638,width:406,height:300},attrStyle:{text:"标题3",align:"center"},children:[{label:"容器3",component:"Vcontainer",isLock:!0,isShow:!0,level:"1-3-1",expanded:!0,guid:"ae3fbf6e-4d44-1684916154096-9903",pGuid:"41d9300b-7b0a-1684916154096-96bd",propStyle:{left:0,top:0,width:406,height:300},attrStyle:{text:"雷达图",align:"center"}},{label:"饼图",component:"VpieChart",propStyle:{left:14,top:54,width:378,height:238},attrStyle:{colorType:"1",legend:{show:!0,position:"top",left:"center",top:"middle"},tooltip:{show:!0,backgroundColor:"#1f1f1f",borderColor:"rgba(255, 255, 255, 0.25)"},series:{radiusPercent:55,isRing:!0,ringWidth:20,centerLeft:50,labelShow:!0,percentPrecision:2,labelContent:["name","value"],labelPostion:"edge"}},isLock:!1,isShow:!0,level:"1-3-2",expanded:!0,pGuid:"41d9300b-7b0a-1684916154096-96bd",guid:"ae473102-6f4b-1684916154096-9126"}]}]},{guid:"3efc75c8-075d-1684225041004-830a",component:"Vgroup",label:"右侧",pGuid:"",isLock:!1,isShow:!0,level:"2",expanded:!0,propStyle:{left:1486,top:96,width:406,height:941},attrStyle:{text:"标题1",align:"center"},children:[{guid:"826b5a9f-3424-1684814063751-b6ba",component:"Vgroup",label:"上",pGuid:"3efc75c8-075d-1684225041004-830a",isLock:!1,isShow:!0,level:"2-1",expanded:!0,propStyle:{left:0,top:0,width:406,height:300},attrStyle:{text:"标题1",align:"center"},children:[{label:"容器1",component:"Vcontainer",isLock:!0,isShow:!0,level:"2-1-1",expanded:!0,guid:"01a7271c-da58-1684225041004-ab9d",pGuid:"826b5a9f-3424-1684814063751-b6ba",propStyle:{left:0,top:0,width:406,height:300},attrStyle:{text:"柱状图",align:"center"}},{label:"柱状图",component:"VbarChart",propStyle:{left:17,top:45,width:374,height:244},attrStyle:{colorType:"2",grid:{left:16,right:16,bottom:0,top:30},legend:{show:!0,position:"top",left:"center",top:"middle"},tooltip:{show:!0},xAxis:{show:!0,type:"category",labelRule:"auto",tickShow:!1,lineShow:!0,splitLineShow:!1},yAxis:{show:!0,type:"value",name:"",unit:"",labelRule:"auto",lineShow:!1,tickShow:!1,splitLineShow:!0},series:{stack:!1,barWidth:null,isGradient:!1,labelShow:!1,manMinValShow:!1,averageLineShow:!1}},icon:"ivu-icon ivu-icon-md-stats",isLock:!1,isShow:!0,level:"2-1-2",expanded:!0,pGuid:"826b5a9f-3424-1684814063751-b6ba",guid:"1e87c91e-dd90-1686540897041-aaab"}]},{guid:"1f0a0be3-855c-1684814076795-b220",component:"Vgroup",label:"中",pGuid:"3efc75c8-075d-1684225041004-830a",isLock:!1,isShow:!0,level:"2-2",expanded:!0,propStyle:{left:0,top:322,width:406,height:300},attrStyle:{text:"标题2",align:"center"},children:[{label:"容器2",component:"Vcontainer",isLock:!0,isShow:!0,level:"2-2-1",expanded:!0,guid:"86741968-8fb2-1684225041004-9c82",pGuid:"1f0a0be3-855c-1684814076795-b220",propStyle:{left:0,top:0,width:406,height:300},attrStyle:{text:"折线图",align:"center"}},{label:"折线图",component:"VlineChart",propStyle:{left:15,top:62,width:377,height:229},attrStyle:{colorType:"1",grid:{left:16,right:16,bottom:0,top:30},legend:{show:!0,position:"top",left:"center",top:"middle"},tooltip:{show:!0,backgroundColor:"#1f1f1f",borderColor:"rgba(255, 255, 255, 0.25)"},xAxis:{show:!0,labelRule:"auto",tickShow:!1,splitLineShow:!1},yAxis:{show:!0,name:"",unit:"",labelRule:"auto",lineShow:!1,tickShow:!1,splitLineShow:!0},series:{symbol:"emptyCircle",connectNulls:!1,labelShow:!1,manMinValShow:!1,averageLineShow:!1,chartType:"area",stack:!0,isGradient:!0,opacityTop:35,smooth:!1}},isLock:!1,isShow:!0,level:"2-2-2",expanded:!0,pGuid:"1f0a0be3-855c-1684814076795-b220",guid:"09da0a75-bc67-1684809661676-bb48"}]},{guid:"2afc783e-78fa-1684814104994-8f1e",component:"Vgroup",label:"下",pGuid:"3efc75c8-075d-1684225041004-830a",isLock:!1,isShow:!0,level:"2-3",expanded:!0,propStyle:{left:0,top:641,width:406,height:300},attrStyle:{text:"标题3",align:"center"},children:[{label:"容器3",component:"Vcontainer",isLock:!0,isShow:!0,level:"2-3-1",expanded:!0,guid:"9c3c8870-f3be-1684225041004-9349",pGuid:"2afc783e-78fa-1684814104994-8f1e",propStyle:{left:0,top:0,width:406,height:300},attrStyle:{text:"雷达图",align:"center"}},{label:"雷达图",component:"VradarChart",propStyle:{left:18,top:53,width:374,height:240},attrStyle:{colorType:"4",grid:{left:16,right:16,bottom:16,top:16},legend:{show:!0,position:"top",left:"center",top:"middle"},tooltip:{show:!0,backgroundColor:"#1f1f1f",borderColor:"rgba(255, 255, 255, 0.25)"},series:{shape:"polygon",isArea:!1,radiusPercent:60,centerLeft:50,labelShow:!1}},isLock:!1,isShow:!0,level:"2-3-2",expanded:!0,pGuid:"2afc783e-78fa-1684814104994-8f1e",guid:"e79caf13-4fb1-1684916497723-83b9"}]}]},{guid:"c6ad85bb-2fde-1684906832242-a8a6",component:"Vgroup",label:"底部",pGuid:"",isLock:!1,isShow:!0,level:"3",expanded:!0,propStyle:{left:445,top:744,width:1030,height:293},attrStyle:{text:"标题1",align:"center"},children:[{label:"容器",component:"Vcontainer",isLock:!0,isShow:!0,level:"3-1",expanded:!0,guid:"f5a4a528-dc8e-1684906787572-b513",pGuid:"c6ad85bb-2fde-1684906832242-a8a6",propStyle:{left:0,top:0,width:1030,height:293},attrStyle:{text:"表格",align:"center"}},{label:"表格",component:"Vtable",propStyle:{left:23.5,top:61,width:989,height:217},attrStyle:{tableTheme:"stripe"},isLock:!1,isShow:!0,level:"3-2",expanded:!0,pGuid:"c6ad85bb-2fde-1684906832242-a8a6",guid:"b68e4b7e-73d5-1684906803952-b6ad"}]}],dt=["propStyle"],ut=function(e){Object(r["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.hasDataRelatedList=Object.keys(Se["c"]).map((function(e){return e.replace("DataSettings","")})),e.isPageLoading=!1,e.activeRightTab="attrs",e}return Object(s["a"])(n,[{key:"canvasScale",get:function(){return"".concat(Math.round(100*g["a"].canvasScale),"%")}},{key:"activeComponent",get:function(){return g["a"].activeComponent}},{key:"holdSpace",get:function(){return g["a"].holdSpace}},{key:"selectAreaInfos",get:function(){return g["a"].selectedDatas}},{key:"updateRecordAttrs",get:function(){var e=this.activeComponent,t=(e.propStyle,Object(c["a"])(e,dt));return t}},{key:"onActiveComponentAttrChange",value:function(e,t){t.guid&&t.guid===e.guid?D["a"].pushRecord():this.activeRightTab="attrs"}},{key:"beforeCreate",value:function(){g["a"].updateData({key:"allAddedComponents",data:rt})}},{key:"mounted",value:function(){this.initKeyDownListener(),D["a"].pushRecord()}},{key:"onResize",value:function(){Object(y["g"])(),this.isPageLoading=!0}},{key:"handleContextMenu",value:function(e){e.stopPropagation(),e.preventDefault(),this.activeComponent.component&&g["a"].updateData({key:"contextInfo",data:{isShow:!0,top:"".concat(e.clientY,"px"),left:"".concat(e.clientX,"px")}})}},{key:"onDragMoveCanvas",value:function(e){var t,n,o=this;if(this.hideContextMenu(),g["a"].holdSpace){e.preventDefault(),e.stopPropagation();var a={top:(null===(t=e.currentTarget)||void 0===t?void 0:t["scrollTop"])||0,left:(null===(n=e.currentTarget)||void 0===n?void 0:n["scrollLeft"])||0},i=function(t){var n=t.clientX-e.clientX,i=t.clientY-e.clientY;o.centerRef.scrollTop=a.top-i,o.centerRef.scrollLeft=a.left-n},c=function e(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",e)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",c)}}},{key:"initKeyDownListener",value:function(){var e=this.handleKeyEvent,t=function(){g["a"].updateData({key:"holdSpace",data:!1}),g["a"].updateData({key:"holdCtrl",data:!1})};document.addEventListener("keydown",e),document.addEventListener("keyup",t),this.$once("hook:beforeDestroy",(function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}))}},{key:"handleKeyEvent",value:function(e){if(g["a"].updateData({key:"holdSpace",data:"Space"==e.code}),g["a"].updateData({key:"holdCtrl",data:e.ctrlKey}),this.holdSpace)e.preventDefault();else switch(!0){case"Delete"===e.code:if(this.selectAreaInfos.isShow)this.selectAreaInfos.areaComponents.forEach((function(e){g["a"].deleteComponent(e.guid)}));else{var t=g["a"].activeComponent.guid;g["a"].deleteComponent(t)}D["a"].pushRecord(),e.preventDefault();break;case"ArrowUp"===e.code:this.updateStyle(e,{offsetTop:e.shiftKey?-10:-1});break;case"ArrowDown"===e.code:this.updateStyle(e,{offsetTop:e.shiftKey?10:1});break;case"ArrowLeft"===e.code:this.updateStyle(e,{offsetLeft:e.shiftKey?-10:-1});break;case"ArrowRight"===e.code:this.updateStyle(e,{offsetLeft:e.shiftKey?10:1});break;case e.ctrlKey&&e.shiftKey&&"KeyZ"===e.code:D["a"].redo(),g["a"].hideSelectArea();break;case e.ctrlKey&&"KeyZ"===e.code:D["a"].undo(),g["a"].hideSelectArea();break}}},{key:"updateStyle",value:function(e,t){var n=t.offsetLeft,o=void 0===n?0:n,a=t.offsetTop,i=void 0===a?0:a;e.preventDefault(),Object(y["h"])({top:i,left:o})}},{key:"hideContextMenu",value:function(e){null===e||void 0===e||e.stopPropagation(),g["a"].contextInfo.isShow&&g["a"].updateData({key:"contextInfo",data:{isShow:!1,top:"0",left:"0"}})}}]),n}(p["h"]);Object(u["a"])([Object(p["g"])("centerRef")],ut.prototype,"centerRef",void 0),Object(u["a"])([Object(p["i"])("updateRecordAttrs",{deep:!0})],ut.prototype,"onActiveComponentAttrChange",null),ut=Object(u["a"])([Object(p["a"])({components:Object(i["a"])(Object(i["a"])({ToolBar:z,AddedComponentsList:ne,Editor:Le,CanvasAttrs:Pe,ContextMenu:He,AlignMenu:Qe,CommonAttrs:ct,DataPanel:lt["a"],DataRelated:st["a"]},Se["a"]),Se["c"])})],ut);var pt=ut,ht=pt,ft=(n("e259"),Object(w["a"])(ht,o,a,!1,null,"e6756aee",null));t["default"]=ft.exports}}]);